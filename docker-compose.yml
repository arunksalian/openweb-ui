version: '3.8'
services:
  nginx:
    image: 'nginx:1.19.4'
    volumes:
      - ./default.conf:/etc/nginx/conf.d/default.conf
    ports:
      - '80:80'
  ollama:
    image: 'ollama/ollama:latest'
    hostname: ollama
    ports:
      - '11434:11434'
    volumes:
      - './models:/root/.ollama/models'
    networks:
      - genai-network
  open-webui:
    image: 'ghcr.io/open-webui/open-webui:main'
    ports:
      - '9000:8080'
    environment:
      - 'OLLAMA_BASE_URL=http://ollama:11434'
    volumes:
      - './backend/data:/app/backend/data'
    networks:
      - genai-network
networks:
  genai-network:
    driver: bridge
    name: genai-network
